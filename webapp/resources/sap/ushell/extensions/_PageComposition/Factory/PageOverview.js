// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ushell/ui/pagecomposer/PageOverview.controller","sap/ushell/extensions/_PageComposition/Factory/utils"],function(J,P,u){"use strict";var a={};a._selectPage=function(){return new Promise(function(r,b){this.oPageOverviewLoadPromise.then(function(p){P._setResolveSelectedPagePromise(r);p.open();}).catch(b);}.bind(this));};a.create=function(l){if(!this.oPageOverviewLoadPromise){var m=new J();this.oPageOverviewLoadPromise=u.setupXMLFragment("sap.ushell.ui.pagecomposer.PageOverview",m,P);}Promise.all([this.oPageOverviewLoadPromise,l()]).then(function(r){var p=r[0];var o=r[1];p.getModel().setData(o);});return{selectPage:this._selectPage.bind(this)};};return a;},false);
