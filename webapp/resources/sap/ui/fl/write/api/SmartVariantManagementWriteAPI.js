/*
 * ! OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/DefaultVariant","sap/ui/fl/StandardVariant","sap/ui/fl/apply/api/SmartVariantManagementApplyAPI","sap/ui/fl/ChangePersistenceFactory","sap/ui/fl/transport/TransportSelection"],function(D,S,a,C,T){"use strict";var b={add:function(p){var s=a._getStableId(p.control||arguments[0]);var c=C.getChangePersistenceForControl(p.control||arguments[0]);return c.addChangeForVariant(a._PERSISTENCY_KEY,s,typeof arguments[1]==="object"?arguments[1]:p.changeSpecificData);},save:function(p){var s=a._getStableId(p.control||arguments[0]);var c=C.getChangePersistenceForControl(p.control||arguments[0]);return c.saveAllChangesForVariant(s);},setDefaultVariantId:function(p){var P;var c;var s=a._getStableId(p.control||arguments[0]);var m={};m[a._PERSISTENCY_KEY]=s;var o=C.getChangePersistenceForControl(p.control||arguments[0]);P={defaultVariantId:typeof arguments[1]==="string"?arguments[1]:p.defaultVariantId,reference:o.getComponentName(),selector:m,validAppVersions:{creation:o._mComponent.appVersion,from:o._mComponent.appVersion}};var d=a._getChangeMap(p.control||arguments[0]);c=D.updateDefaultVariantId(d,arguments[1]||p.defaultVariantId);if(c){return c;}c=D.createChangeObject(P);var e=c.getId();d[e]=c;return c;},setExecuteOnSelect:function(p){var P;var c;var s=a._getStableId(p.control||arguments[0]);var m={};m[a._PERSISTENCY_KEY]=s;var o=C.getChangePersistenceForControl(p.control||arguments[0]);P={executeOnSelect:typeof arguments[1]==="boolean"?arguments[1]:p.executeOnSelect,reference:o.getComponentName(),selector:m};var d=a._getChangeMap(p.control||arguments[0]);c=S.updateExecuteOnSelect(d,arguments[1]||p.executeOnSelect);if(c){return c;}c=S.createChangeObject(P);var e=c.getId();d[e]=c;return c;},_getTransportSelection:function(){return new T();}};return b;},true);
