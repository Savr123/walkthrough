/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/Device','sap/ui/core/Control','sap/ui/core/Element','sap/ui/core/IconPool','sap/ui/core/util/PasteHelper','sap/ui/model/ChangeReason','sap/ui/model/Filter','sap/ui/model/Sorter','sap/ui/model/BindingMode','./Column','./Row','./library','./TableUtils','./TableExtension','./TableAccExtension','./TableKeyboardExtension','./TablePointerExtension','./TableScrollExtension','./TableDragAndDropExtension',"./TableRenderer","./rowmodes/FixedRowMode","./rowmodes/InteractiveRowMode","./rowmodes/AutoRowMode","./plugins/SelectionModelPlugin","sap/ui/thirdparty/jquery","sap/base/Log"],function(D,C,E,I,P,a,F,S,B,b,R,c,T,d,e,f,g,h,j,k,m,n,A,o,q,L){"use strict";var G=c.GroupEventType,N=c.NavigationMode,p=c.SelectionMode,r=c.SelectionBehavior,s=c.SortOrder,V=c.VisibleRowCountMode;var t=C.extend("sap.ui.table.Table",{metadata:{library:"sap.ui.table",dnd:true,properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},rowHeight:{type:"int",group:"Appearance",defaultValue:null},columnHeaderHeight:{type:"int",group:"Appearance",defaultValue:null},columnHeaderVisible:{type:"boolean",group:"Appearance",defaultValue:true},visibleRowCount:{type:"int",group:"Appearance",defaultValue:10},firstVisibleRow:{type:"int",group:"Appearance",defaultValue:0},selectionMode:{type:"sap.ui.table.SelectionMode",group:"Behavior",defaultValue:p.MultiToggle},selectionBehavior:{type:"sap.ui.table.SelectionBehavior",group:"Behavior",defaultValue:r.RowSelector},selectedIndex:{type:"int",group:"Appearance",defaultValue:-1},editable:{type:"boolean",group:"Behavior",defaultValue:true},navigationMode:{type:"sap.ui.table.NavigationMode",group:"Behavior",defaultValue:N.Scrollbar,deprecated:true},threshold:{type:"int",group:"Appearance",defaultValue:100},enableColumnReordering:{type:"boolean",group:"Behavior",defaultValue:true},enableGrouping:{type:"boolean",group:"Behavior",defaultValue:false},showColumnVisibilityMenu:{type:"boolean",group:"Appearance",defaultValue:false},showNoData:{type:"boolean",group:"Appearance",defaultValue:true},visibleRowCountMode:{type:"sap.ui.table.VisibleRowCountMode",group:"Appearance",defaultValue:V.Fixed},minAutoRowCount:{type:"int",group:"Appearance",defaultValue:5},fixedColumnCount:{type:"int",group:"Appearance",defaultValue:0},fixedRowCount:{type:"int",group:"Appearance",defaultValue:0},fixedBottomRowCount:{type:"int",group:"Appearance",defaultValue:0},enableColumnFreeze:{type:"boolean",group:"Behavior",defaultValue:false},enableCellFilter:{type:"boolean",group:"Behavior",defaultValue:false},showOverlay:{type:"boolean",group:"Appearance",defaultValue:false},enableSelectAll:{type:"boolean",group:"Behavior",defaultValue:true},enableCustomFilter:{type:"boolean",group:"Behavior",defaultValue:false},enableBusyIndicator:{type:"boolean",group:"Behavior",defaultValue:false},rowActionCount:{type:"int",group:"Appearance",defaultValue:0},alternateRowColors:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"columns",aggregations:{title:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},footer:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},toolbar:{type:"sap.ui.core.Toolbar",multiple:false,deprecated:true},extension:{type:"sap.ui.core.Control",multiple:true,singularName:"extension"},columns:{type:"sap.ui.table.Column",multiple:true,singularName:"column",bindable:"bindable",dnd:{layout:"Horizontal"}},rows:{type:"sap.ui.table.Row",multiple:true,singularName:"row",bindable:"bindable",selector:"#{id}-tableCCnt",dnd:true},rowMode:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},creationRow:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},noData:{type:"sap.ui.core.Control",altTypes:["string"],multiple:false},rowActionTemplate:{type:"sap.ui.table.RowAction",multiple:false},rowSettingsTemplate:{type:"sap.ui.table.RowSettings",multiple:false},contextMenu:{type:"sap.ui.core.IContextMenu",multiple:false},plugins:{type:"sap.ui.table.plugins.SelectionPlugin",multiple:true,singularName:"plugin"}},associations:{groupBy:{type:"sap.ui.table.Column",multiple:false},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{rowSelectionChange:{parameters:{rowIndex:{type:"int"},rowContext:{type:"object"},rowIndices:{type:"int[]"},selectAll:{type:"boolean"},userInteraction:{type:"boolean"}}},columnSelect:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},columnResize:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},width:{type:"sap.ui.core.CSSSize"}}},columnMove:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},newPos:{type:"int"}}},sort:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},sortOrder:{type:"sap.ui.table.SortOrder"},columnAdded:{type:"boolean"}}},filter:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},value:{type:"string"}}},group:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},columnVisibility:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"},newVisible:{type:"boolean"}}},cellClick:{allowPreventDefault:true,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}}},cellContextmenu:{allowPreventDefault:true,parameters:{cellControl:{type:"sap.ui.core.Control"},cellDomRef:{type:"Object"},rowIndex:{type:"int"},columnIndex:{type:"int"},columnId:{type:"string"},rowBindingContext:{type:"sap.ui.model.Context"}},deprecated:true},beforeOpenContextMenu:{allowPreventDefault:true,parameters:{rowIndex:{type:"int"},columnIndex:{type:"int"},contextMenu:{type:"sap.ui.core.IContextMenu"}}},columnFreeze:{allowPreventDefault:true,parameters:{column:{type:"sap.ui.table.Column"}}},customFilter:{column:{type:"sap.ui.table.Column"},value:{type:"string"}},firstVisibleRowChanged:{firstVisibleRow:{type:"int"}},busyStateChanged:{busy:{type:"boolean"}},paste:{allowPreventDefault:true,parameters:{data:{type:"string[][]"}}}},designtime:"sap/ui/table/designtime/Table.designtime"}});I.insertFontFaceStyle();t.prototype.init=function(){this.mSkipPropagation={rowActionTemplate:true,rowSettingsTemplate:true};if(!this._SelectionAdapterClass){this._SelectionAdapterClass=o;}this._attachExtensions();this._initLegacyRowMode();this._initSelectionPlugin();this._bRtlMode=sap.ui.getCore().getConfiguration().getRTL();this._bIsFlexItem=false;this._bRowsBeingBound=false;this._bContextsAvailable=false;this._aRowClones=[];this._bRowAggregationInvalid=true;this._mTimeouts={};this._mAnimationFrames={};this._bHideStandardTooltips=false;this._aRowHeights=[];this._iRenderedFirstVisibleRow=0;this._aSortedColumns=[];this._aTableHeaders=[];this._bAllowColumnHeaderTextSelection=false;this._iPendingRequests=0;this._bPendingRequest=false;this._iBindingLength=null;this._bFirstRendering=true;this._nDevicePixelRatio=window.devicePixelRatio;if(sap.ui.getCore().isThemeApplied()){T.readThemeParameters();}this._bInvalid=true;};t.prototype._initSelectionPlugin=function(){var i=this.getPlugin("sap.ui.table.plugins.SelectionPlugin");if(i){if(this._oSelectionPlugin instanceof this._SelectionAdapterClass){this._oSelectionPlugin.destroy();}this._oSelectionPlugin=i;this._oSelectionPlugin.attachSelectionChange(this._onSelectionChanged,this);this._oSelectionPlugin._setBinding(this.getBinding("rows"));}else if(!(this._oSelectionPlugin instanceof this._SelectionAdapterClass)){this._oSelectionPlugin=new this._SelectionAdapterClass();this._oSelectionPlugin.attachSelectionChange(this._onSelectionChanged,this);this._oSelectionPlugin._setBinding(this.getBinding("rows"));}};t.prototype._attachExtensions=function(){if(this._bExtensionsInitialized){return;}d.enrich(this,g);d.enrich(this,h);d.enrich(this,f);d.enrich(this,e);d.enrich(this,j);this._bExtensionsInitialized=true;};t.prototype.exit=function(){this.invalidateRowsAggregation();this._detachExtensions();if(this._dataReceivedHandlerId){clearTimeout(this._dataReceivedHandlerId);delete this._dataReceivedHandlerId;}this._cleanUpTimers();this._detachEvents();if(this._oSelectionPlugin){this._oSelectionPlugin.destroy();}delete this._aTableHeaders;delete this._oLegacyRowMode;};t.prototype._detachExtensions=function(){d.cleanup(this);};t.prototype.onpaste=function(i){if(i.isMarked()||/^(input|textarea)$/i.test(i.target.tagName)||!this.getDomRef("sapUiTableCnt").contains(i.target)){return;}var l=P.getPastedDataAs2DArray(i.originalEvent);if(l.length===0||l[0].length===0){return;}this.firePaste({data:l});};t.prototype.onThemeChanged=function(){T.readThemeParameters();if(this.getDomRef()){this.invalidate();}};t.prototype.onlocalizationChanged=function(i){var l=i.changes||{};var v=l.hasOwnProperty("rtl");var w=l.hasOwnProperty("language");this._adaptLocalization(v,w).then(function(){this.invalidate();}.bind(this));};t.prototype._adaptLocalization=function(i,l){if(!i&&!l){return Promise.reject();}var v=Promise.resolve();if(i){this._bRtlMode=sap.ui.getCore().getConfiguration().getRTL();}if(l){v=T.getResourceBundle({async:true,reload:true});}return v.then(function(){if(l){T.Menu.cleanupDataCellContextMenu(this);this._invalidateColumnMenus();}}.bind(this));};t.prototype._collectRowHeights=function(H){var l=this.getDomRef();if(!l){return[];}var v=this._getBaseRowHeight();var w=H?".sapUiTableColHdrTr":".sapUiTableTr";var x=l.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+w);var y=l.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+w);var z=this.getRows().length;var J=[];var K=D.browser.chrome&&window.devicePixelRatio!=1;if(H){if(this.getColumnHeaderHeight()>0){v=this.getColumnHeaderHeight();}else if(this.getRowMode()){v=this._getDefaultRowHeight();}}for(var i=0;i<z;i++){var M=x[i]?x[i].getBoundingClientRect().height:0;var O=y[i]?y[i].getBoundingClientRect().height:0;var Q=Math.max(M,O);if(K){var U=v-Q;if(U>0&&U<1){J.push(Math.max(Q,v-1));continue;}}J.push(Math.max(Q,v));}if(J.length>0&&!H){T.dynamicCall(this._getSyncExtension,function(W){var X=W.syncRowHeights(J.slice());if(X&&X.length===J.length){J=X.slice();}});}return J;};t.prototype._resetRowHeights=function(){var l=this._getBaseRowHeight();var v="";if(l){v=l+"px";}var w=this.getDomRef("tableCCnt");if(w){var x=w.querySelectorAll(".sapUiTableTr");for(var i=0;i<x.length;i++){x[i].style.height=v;}}};t.prototype._resetColumnHeaderHeights=function(){var l=this.getDomRef();if(l){var v=l.querySelectorAll(".sapUiTableColHdrTr");for(var i=0;i<v.length;i++){v[i].style.height=null;}}};t.prototype._collectTableSizes=function(){var l={tableCtrlScrollWidth:0,tableRowHdrScrWidth:0,tableCtrlScrWidth:0,tableHSbScrollLeft:0,tableCtrlFixedWidth:0,tableCntHeight:0,tableCntWidth:0};var v=this.getDomRef();if(!v){return l;}var w=v.querySelector(".sapUiTableCnt");if(w){l.tableCntHeight=w.clientHeight;l.tableCntWidth=w.clientWidth;}var x=v.querySelector(".sapUiTableCtrlScroll:not(.sapUiTableCHT)");if(x){l.tableCtrlScrollWidth=x.clientWidth;}var y=v.querySelector(".sapUiTableRowHdrScr");if(y){l.tableRowHdrScrWidth=y.clientWidth;}var z=v.querySelector(".sapUiTableCtrlScr:not(.sapUiTableCHA)");if(z){l.tableCtrlScrWidth=z.clientWidth;}var H=this._getScrollExtension().getHorizontalScrollbar();if(H){l.tableHSbScrollLeft=H.scrollLeft;}var J=v.querySelector(".sapUiTableCtrlScrFixed:not(.sapUiTableCHA) > .sapUiTableCtrlFixed");if(J){l.tableCtrlFixedWidth=J.clientWidth;}var K=this.getFixedColumnCount();var M=0;if(K){var O=this.getColumns();var Q=v.querySelectorAll(".sapUiTableCtrlFirstCol:not(.sapUiTableCHTHR) > th");for(var i=0;i<Q.length;i++){var U=parseInt(Q[i].getAttribute("data-sap-ui-headcolindex"));if(!isNaN(U)&&(U<K)){var W=O[U];var X;if(W._iFixWidth!=null){X=W._iFixWidth;}else{X=Q[i].getBoundingClientRect().width;}M+=X;}}}if(M>0){var Y=this._getScrollExtension();var Z=l.tableRowHdrScrWidth;var $=Y.getVerticalScrollbar();if($&&!Y.isVerticalScrollbarExternal()){Z+=$.offsetWidth;}if(T.hasRowActions(this)){var _=this.getDomRef("sapUiTableRowActionScr");if(_){Z+=_.offsetWidth;}}Z+=T.Column.getMinColumnWidth();var a1=l.tableCntWidth-Z;var b1=a1>M;var c1=!b1;if(this._bIgnoreFixedColumnCount!==c1){this._bIgnoreFixedColumnCount=c1;if(this.getEnableColumnFreeze()){this._invalidateColumnMenus();}this.invalidate();}}return l;};t.prototype._updateRowHeights=function(i,H){var l=this.getDomRef();if(!l){return;}function v(K,M){var O=i[M];if(O){K.style.height=O+"px";}}var w=H?".sapUiTableColHdrTr":".sapUiTableTr";var x=H?[]:l.querySelectorAll(".sapUiTableRowSelectionCell");var y=H?[]:l.querySelectorAll(".sapUiTableRowActionCell");var z=l.querySelectorAll(".sapUiTableCtrlFixed > tbody > tr"+w);var J=l.querySelectorAll(".sapUiTableCtrlScroll > tbody > tr"+w);Array.prototype.forEach.call(x,v);Array.prototype.forEach.call(y,v);Array.prototype.forEach.call(z,v);Array.prototype.forEach.call(J,v);};t.prototype.onBeforeRendering=function(i){this._detachEvents();if(i&&i.isMarked("renderRows")){return;}this._cleanUpTimers();this.getBinding("rows");this._aTableHeaders=[];};t.prototype.onAfterRendering=function(i){var l=i&&i.isMarked("renderRows");this._bInvalid=false;this._attachEvents();this._initRowDomRefs();if(!this._bAllowColumnHeaderTextSelection&&!l){this._disableTextSelection(this.$().find(".sapUiTableColHdrCnt"));}this.getDomRef().classList.remove("sapUiTableRActFlexible");if(!l){this._aTableHeaders=this.$().find(".sapUiTableColHdrCnt th");}this._updateTableSizes(T.RowsUpdateReason.Render,true);T.registerResizeHandler(this,"Table",this._onTableResize.bind(this));this._bFirstRendering=false;};t.prototype.invalidate=function(){this._bInvalid=true;T.Column.invalidateColumnUtils(this);return C.prototype.invalidate.call(this);};t.prototype._initRowDomRefs=function(){var l=this.getRows();for(var i=0;i<l.length;i++){l[i].initDomRefs();}};t.prototype._updateTableSizes=function(l,v){v=v===true;var w=this.getDomRef();if(this._bInvalid||!w||!sap.ui.getCore().isThemeApplied()||w.offsetWidth===0){return;}if(!v){this._resetRowHeights();this._resetColumnHeaderHeights();}this._aRowHeights=this._collectRowHeights(false);var x=this._collectRowHeights(true);if(T.isVariableRowHeightEnabled(this)&&!T.isNoDataVisible(this)){this._getScrollExtension().updateInnerVerticalScrollPosition();}function y(Z){var _=Z.getDomRef();var a1=T.Column.getMinColumnWidth();var b1=[];var c1=Z.getColumnHeaderVisible();function d1(g1,h1){if(g1<=h1){return Math.max(g1,h1-5,a1)+"px";}return-1;}function e1(h1){var i1=Math.max(h1._minWidth||0,a1,h1.getMinWidth());var j1=h1.getWidth();var k1;var l1;var m1;if(T.isVariableWidth(j1)&&!T.isFixedColumn(Z,h1.getIndex())){k1=_.querySelectorAll('th[data-sap-ui-colid="'+h1.getId()+'"]');l1=k1[c1?0:1];m1=l1?l1.offsetWidth:null;if(m1!==null){if(m1<=i1){return{headers:k1,newWidth:d1(m1,i1)};}else if(l1&&l1.style.width!=j1){b1.push({col:h1,header:l1,minWidth:i1,headers:k1});return{headers:k1,newWidth:j1};}b1.push({col:h1,header:l1,minWidth:i1,headers:k1});}}return null;}function f1(h1){if(h1){Array.prototype.forEach.call(h1.headers,function(i1){i1.style.width=h1.newWidth;});}}Z._getVisibleColumns().map(e1).forEach(f1);if(b1.length){var g1;for(var i=0;i<b1.length;i++){g1=b1[i].header&&b1[i].header.offsetWidth;b1[i].newWidth=d1(g1,b1[i].minWidth);if(parseInt(b1[i].newWidth)>=0){f1(b1[i]);}}}}y(this);var z=this._collectTableSizes();this._updateRowHeights(this._aRowHeights,false);this._updateRowHeights(x,true);T.dynamicCall(this._getSyncExtension,function(i){i.syncLayout({top:this.getDomRef("sapUiTableCnt").offsetTop,headerHeight:this.getDomRef().querySelector(".sapUiTableColHdrCnt").getBoundingClientRect().height,contentHeight:this.getDomRef("tableCCnt").getBoundingClientRect().height});},this);var H=this._getScrollExtension();H.updateHorizontalScrollbar(z);H.updateVerticalScrollbarPosition();H.updateVerticalScrollbarVisibility();var $=this.$();if(T.hasRowActions(this)){var J=$.hasClass("sapUiTableRActFlexible");var K=this.getDomRef("dummycolhdr");if(K){var M=this.getDomRef("header");var O=M.clientWidth;var Q=this.getColumns().reduce(function(Q,i){if(i.getDomRef()&&i.getIndex()>=this.getComputedFixedColumnCount()){return Q+T.convertCSSSizeToPixel(i.getWidth());}return Q;}.bind(this),0);var U=K.clientWidth;var W=O>Q;if(!J&&W){var X=z.tableCtrlScrWidth+z.tableRowHdrScrWidth+z.tableCtrlFixedWidth-U;var Y={width:"auto"};Y[this._bRtlMode?"right":"left"]=X;this.$("sapUiTableRowActionScr").css(Y);this.$("rowacthdr").css(Y);$.toggleClass("sapUiTableRActFlexible",true);}else if(J&&!W){this.$("sapUiTableRowActionScr").removeAttr("style");this.$("rowacthdr").removeAttr("style");$.toggleClass("sapUiTableRActFlexible",false);}}}$.find(".sapUiTableNoOpacity").addBack().removeClass("sapUiTableNoOpacity");this._getRowMode().updateTableSizes(l);};t.prototype.setShowOverlay=function(i){i=!!i;this.setProperty("showOverlay",i,true);if(this.getDomRef()){var l=document.activeElement;this.$().toggleClass("sapUiTableOverlay",i);this._getAccExtension().updateAriaStateForOverlayAndNoData();this._getKeyboardExtension().updateNoDataAndOverlayFocus(l);}return this;};t.prototype._updateFixedBottomRows=function(){var i=this.getDomRef();if(!i||this._getRowCounts().fixedBottom===0){return;}var l=T.getFirstFixedBottomRowIndex(this);var v=this.getRows();var $;q(i).find(".sapUiTableRowLastScrollable").removeClass("sapUiTableRowLastScrollable");q(i).find(".sapUiTableRowFirstFixedBottom").removeClass("sapUiTableRowFirstFixedBottom");if(l>=0&&l<v.length){$=v[l].getDomRefs(true);$.row.addClass("sapUiTableRowFirstFixedBottom",true);}if(l>=1&&l<v.length){$=v[l-1].getDomRefs(true);$.row.addClass("sapUiTableRowLastScrollable",true);}};t.prototype.getFocusInfo=function(){var i=this.$().find(":focus").attr("id");if(i){return{customId:i};}else{return E.prototype.getFocusInfo.apply(this,arguments);}};t.prototype.applyFocusInfo=function(i){if(i&&i.customId){q(document.getElementById(i.customId)).focus();}else{E.prototype.applyFocusInfo.apply(this,arguments);}return this;};t.prototype.setTitle=function(v){var i=v;if(typeof(v)==="string"||v instanceof String){i=c.TableHelper.createTextView({text:v,width:"100%"});i.addStyleClass("sapUiTableHdrTitle");}this.setAggregation("title",i);return this;};t.prototype.setFooter=function(v){var i=v;if(typeof(v)==="string"||v instanceof String){i=c.TableHelper.createTextView({text:v,width:"100%"});}this.setAggregation("footer",i);return this;};t.prototype.setSelectionMode=function(i){if(i===p.Multi){i=p.MultiToggle;L.warning("The selection mode 'Multi' is deprecated and must not be used anymore."+" Your setting was defaulted to selection mode 'MultiToggle'",this);}if(this._oSelectionPlugin.isA("sap.ui.table.plugins.SelectionModelPlugin")||this._oSelectionPlugin.isA("sap.ui.table.plugins.BindingSelectionPlugin")){this.setProperty("selectionMode",i);this._oSelectionPlugin.setSelectionMode(i);}else{L.warning("When the MultiSelectionPlugin is applied to the table, the selection mode is controlled by the plugin.",this);}return this;};t.prototype.setFirstVisibleRow=function(i,O,l){if(parseInt(i)<0){L.error("The index of the first visible row must be greater than or equal to 0. The value has been set to 0.",this);i=0;}if(this._getTotalRowCount()>0){var M=this._getMaxFirstVisibleRowIndex();if(M<i){L.warning("The index of the first visible row must be lesser or equal than the scrollable row count minus the visible row count."+" The value has been set to "+M+".",this);i=M;}}var v=this.getFirstVisibleRow()!=i;var w=this._getScrollExtension();if(v){var x=this._getFirstRenderedRowIndex();this.setProperty("firstVisibleRow",i,true);var y=this._getFirstRenderedRowIndex()!==x;if(this.getBinding("rows")){if(y){var z=O===true?T.RowsUpdateReason.VerticalScroll:T.RowsUpdateReason.FirstVisibleRowChange;this.updateRows(z);}if(!O){w.updateVerticalScrollPosition();}}if(!l){this.fireFirstVisibleRowChanged({firstVisibleRow:i});}}else if(!O){w.updateVerticalScrollPosition();}return this;};t.getMetadata().getAggregation("rows")._doesNotRequireFactory=true;t.prototype.bindAggregation=function(i){if(i==="rows"){return this.bindRows.apply(this,[].slice.call(arguments,1));}return C.prototype.bindAggregation.apply(this,arguments);};t.prototype._bindAggregation=function(i,l){if(i==="rows"){this._bRowsBeingBound=true;this._bContextsAvailable=false;t._addBindingListener(l,"change",this._onBindingChange.bind(this));t._addBindingListener(l,"dataRequested",this._onBindingDataRequested.bind(this));t._addBindingListener(l,"dataReceived",this._onBindingDataReceived.bind(this));}C.prototype._bindAggregation.call(this,i,l);if(i==="rows"){var v=this.getBinding("rows");var M=v?v.getModel():null;this._oSelectionPlugin._setBinding(v);if(M&&M.getDefaultBindingMode()===B.OneTime){L.error("The binding mode of the model is set to \"OneTime\"."+" This binding mode is not supported for the \"rows\" aggregation!"+" Scrolling can not be performed.",this);}this._bRowsBeingBound=false;}};t.prototype.unbindAggregation=function(i,l){var v=this.getBinding("rows");if(i==="rows"&&this.isBound("rows")){l=true;}var w=C.prototype.unbindAggregation.call(this,i,l);if(i==="rows"&&v){this._invalidateColumnMenus();}return w;};t.prototype.destroyAggregation=function(i,l){var v=C.prototype.destroyAggregation.apply(this,arguments);if(i==="rows"){this._aRowClones.forEach(function(w){w.destroy();});this._aRowClones=[];}return v;};t.prototype.bindRows=function(i){this._bRowsBeingBound=true;this._bContextsAvailable=false;this._iPendingRequests=0;this._bPendingRequest=false;this._iBindingLength=null;if(this.getEnableBusyIndicator()){this.setBusy(false);}return C.prototype.bindAggregation.call(this,"rows",t._getSanitizedBindingInfo(arguments));};t.prototype.unbindRows=function(){C.prototype.unbindAggregation.call(this,"rows");this._oSelectionPlugin._setBinding(null);this._adjustToTotalRowCount();this._getRowMode().unbindRows();return this;};t._getSanitizedBindingInfo=function(i){var l;if(i==null||i[0]==null){l=null;}else if(typeof i[0]==="string"){var v=i[0];var w=i[1];var x=i[2];var y=i[3];if(w instanceof S||Array.isArray(x)&&x[0]instanceof F){y=x;x=w;w=undefined;}l={path:v,sorter:x,filters:y,template:w};}else{l=i[0];}return l;};t._addBindingListener=function(i,l,H){if(!i.events){i.events={};}if(!i.events[l]){i.events[l]=H;}else{var O=i.events[l];i.events[l]=function(){H.apply(this,arguments);O.apply(this,arguments);};}};t.prototype._onBindingChange=function(i){var l=i.getParameter("reason");var v=i.getParameter("detailedReason");if(l===a.Sort||l===a.Filter){this.setFirstVisibleRow(0);}if(v==="AddVirtualContext"||v==="RemoveVirtualContext"){this._getRowMode().updateRows(v);}};t.prototype.setRowMode=function(i){this._destroyLegacyRowMode();this.setAggregation("rowMode",i);this._initLegacyRowMode();};t.prototype.getRowMode=function(){return this.getAggregation("rowMode");};t.prototype._getRowMode=function(){var i=this.getRowMode();if(!i){if(!this._oLegacyRowMode){this._initLegacyRowMode();}return this._oLegacyRowMode;}return i;};t.prototype._initLegacyRowMode=function(){this._destroyLegacyRowMode();if(!this.getRowMode()){this._oLegacyRowMode=u(this.getVisibleRowCountMode());this.addDependent(this._oLegacyRowMode);}};t.prototype._destroyLegacyRowMode=function(){if(this._oLegacyRowMode){this.removeDependent(this._oLegacyRowMode);this._oLegacyRowMode.destroy();delete this._oLegacyRowMode;}};function u(v){var i;switch(v){case V.Fixed:i=new m(true);break;case V.Interactive:i=new n(true);break;case V.Auto:i=new A(true);break;default:}return i;}t.prototype._getRowCounts=function(){return this._getRowMode().getComputedRowCounts();};t.prototype.setVisibleRowCountMode=function(v){if(this.getRowMode()){L.warning("If the \"rowMode\" aggregation is set, setting the \"visibleRowCountMode\" has no effect");return this.setProperty("visibleRowCountMode",v,true);}var O=this.getVisibleRowCountMode();this.setProperty("visibleRowCountMode",v);var i=this.getVisibleRowCountMode();if(i!==O){this._initLegacyRowMode();}return this;};t.prototype.setVisibleRowCount=function(v){var i=this.getVisibleRowCountMode();if(i==V.Auto){L.error("VisibleRowCount will be ignored since VisibleRowCountMode is set to Auto",this);return this;}if(v!=null&&!isFinite(v)){return this;}var l=this.getFixedRowCount()+this.getFixedBottomRowCount();if(v<=l&&l>0){L.error("Table: "+this.getId()+" visibleRowCount('"+v+"') must be bigger than number of"+" fixed rows('"+(this.getFixedRowCount()+this.getFixedBottomRowCount())+"')",this);return this;}if(this.getRowMode()){L.warning("If the \"rowMode\" aggregation is set, setting the \"visibleRowCount\" has no effect");return this.setProperty("visibleRowCount",v,true);}v=this.validateProperty("visibleRowCount",v);if(this.getBinding("rows")&&this._getTotalRowCount()<=v){this.setProperty("firstVisibleRow",0);}this.setProperty("visibleRowCount",v);T.dynamicCall(this._getSyncExtension,function(w){w.syncRowCount(v);});return this;};t.prototype.setMinAutoRowCount=function(M){if(parseInt(M)<1){L.error("The minAutoRowCount property must be greater than 0. The value has been set to 1.",this);M=1;}if(this.getRowMode()){L.warning("If the \"rowMode\" aggregation is set, setting the \"minAutoRowCount\" has no effect");return this.setProperty("minAutoRowCount",M,true);}return this.setProperty("minAutoRowCount",M);};t.prototype.setTooltip=function(v){L.warning("The aggregation tooltip is not supported for sap.ui.table.Table",this);return this.setAggregation("tooltip",v,true);};t.prototype.setNavigationMode=function(){this.setProperty("navigationMode",N.Scrollbar,true);L.error("The navigationMode property is deprecated and must not be used anymore. Your setting was defaulted to 'Scrollbar'",this);return this;};t.prototype._getFixedBottomRowContexts=function(){var i=this._getRowCounts();var l=this._getTotalRowCount();if(i.fixedBottom>0&&i.count-i.fixedBottom<l){return this._getContexts(l-i.fixedBottom,i.fixedBottom);}else{return[];}};t.prototype._getFixedRowContexts=function(){var i=this._getRowCounts();if(i.fixedTop>0){return this._getContexts(0,i.fixedTop);}else{return[];}};t.prototype._getContexts=function(i,l,v){var w=this.getBinding("rows");if(w){return w.getContexts(i,l,v);}else{return[];}};t.prototype._getRowContexts=function(l,v,w){var x=this.getBinding("rows");var y=this.getRows().length;l=l==null?y:l;l=Math.max(l,this._getRowMode().getMinRequestLength());if(!x||l<=0){return[];}v=v===true;w=w===true;var z=this._getFirstRenderedRowIndex();var H=this._getRowCounts();var J=[];var K;var M=l-H.fixedBottom;var O=0;var Q=M;var U=this.getThreshold();U=U?Math.max(y,U):0;var W=z;var X=function($,_,W){for(var i=0;i<_.length;i++){$[W+i]=_[i];}};if(H.fixedTop>0&&z>0){W=z+H.fixedTop;M-=H.fixedTop;O=H.fixedTop;K=this._getFixedRowContexts();J=J.concat(K);}K=this._getContexts(W,M,U);if(!v){this._adjustToTotalRowCount();}var Y=this._getTotalRowCount();X(J,K,O);Q=Math.min(Q,Math.max(Y-H.fixedBottom,0));if(H.fixedBottom>0){K=this._getFixedBottomRowContexts();X(J,K,Q);}var Z=this._getMaxFirstRenderedRowIndex();if(Z<z&&this._bContextsAvailable&&!w){this.setProperty("firstVisibleRow",Z,true);J=this._getRowContexts(l,v,true);}return J;};t.prototype._adjustToTotalRowCount=function(){var i=this.getBinding("rows");var l=this._getTotalRowCount();var v=this._getScrollExtension();if(this._iBindingLength!==l){this._iBindingLength=l;this._updateFixedBottomRows();v.updateVerticalScrollbarVisibility();v.updateVerticalScrollHeight();v.updateVerticalScrollPosition();if(!i||!T.hasPendingRequests(this)){this._updateNoData();}}};t.prototype.refreshRows=function(i){var l=this.getBinding("rows");if(!l){L.error("RefreshRows must not be called without a binding",this);return;}this._bContextsAvailable=false;if(i===a.Sort||i===a.Filter){this.setFirstVisibleRow(0);}this._getRowMode().refreshRows(i);};t.prototype.updateRows=function(i){if(this.bIsDestroyed||this._bIsBeingDestroyed){return;}if(!this._bRowsBeingBound||this._getTotalRowCount()>0){this._bContextsAvailable=true;}this._getRowMode().updateRows(i);};t.prototype.insertRow=function(){L.error("The control manages the rows aggregation. The method \"insertRow\" cannot be used programmatically!",this);return this;};t.prototype.addRow=function(){L.error("The control manages the rows aggregation. The method \"addRow\" cannot be used programmatically!",this);return this;};t.prototype.removeRow=function(){L.error("The control manages the rows aggregation. The method \"removeRow\" cannot be used programmatically!",this);return null;};t.prototype.removeAllRows=function(){L.error("The control manages the rows aggregation. The method \"removeAllRows\" cannot be used programmatically!",this);return[];};t.prototype.destroyRows=function(){L.error("The control manages the rows aggregation. The method \"destroyRows\" cannot be used programmatically!",this);return this;};t.prototype.setCreationRow=function(i){if(!T.isA(i,"sap.ui.table.CreationRow")){i=null;}return this.setAggregation("creationRow",i);};t.prototype.getCreationRow=function(){return this.getAggregation("creationRow");};t.prototype.destroyCreationRow=function(){return this.destroyAggregation("creationRow");};t.prototype.autoResizeColumn=function(i){this._getPointerExtension().doAutoResizeColumn(i);};t.prototype._attachEvents=function(){var $=this.$();if(sap.ui.getCore().getConfiguration().getAnimation()){q(document.body).on("webkitTransitionEnd transitionend",function(i){if(q(i.target).has($).length>0){this._updateTableSizes(T.RowsUpdateReason.Animation);}}.bind(this));}D.resize.attachHandler(this._onWindowResize,this);d.attachEvents(this);};t.prototype._detachEvents=function(){q(document.body).off('webkitTransitionEnd transitionend');T.deregisterResizeHandler(this,"Table");D.resize.detachHandler(this._onWindowResize,this);d.detachEvents(this);};t.prototype._cleanUpTimers=function(){var K;for(K in this._mTimeouts){if(this._mTimeouts[K]){window.clearTimeout(this._mTimeouts[K]);delete this._mTimeouts[K];}}for(K in this._mAnimationFrames){if(this._mAnimationFrames[K]){window.cancelAnimationFrame(this._mAnimationFrames[K]);delete this._mAnimationFrames[K];}}};t.prototype._updateNoData=function(){if(!this.getDomRef()){return;}var i=document.activeElement;this.$().toggleClass("sapUiTableEmpty",T.isNoDataVisible(this));this._getAccExtension().updateAriaStateForOverlayAndNoData();this._getKeyboardExtension().updateNoDataAndOverlayFocus(i);};t.prototype.removeColumn=function(i,l){var v=this.removeAggregation('columns',i,l);if(typeof i==="number"&&i>-1){i=this.getColumns()[i];}var w=this._aSortedColumns.indexOf(i);if(!this._bReorderInProcess&&w>=0){this._aSortedColumns.splice(w,1);}this.invalidateRowsAggregation();var x=this.getCreationRow();if(x){x._update();}return v;};t.prototype.removeAllColumns=function(){var i=this.removeAllAggregation('columns');this._aSortedColumns=[];this.invalidateRowsAggregation();var l=this.getCreationRow();if(l){l._update();}return i;};t.prototype.destroyColumns=function(){var i=this.destroyAggregation('columns');this._aSortedColumns=[];this.invalidateRowsAggregation();var l=this.getCreationRow();if(l){l._update();}return i;};t.prototype.addColumn=function(i,l){this.addAggregation('columns',i,l);this.invalidateRowsAggregation();var v=this.getCreationRow();if(v){v._update();}return this;};t.prototype.insertColumn=function(i,l,v){this.insertAggregation('columns',i,l,v);this.invalidateRowsAggregation();var w=this.getCreationRow();if(w){w._update();}return this;};t.prototype._getTotalRowCount=function(){var i=this.getBinding("rows");var l=this.getBindingInfo("rows");if(!i){return 0;}if(l.length!=null){return l.length;}return i.getLength();};t.prototype._getSelectableRowCount=function(){return this._oSelectionPlugin.getSelectableCount();};t.prototype._getMaxFirstVisibleRowIndex=function(){var M;if(T.isVariableRowHeightEnabled(this)){M=this._getTotalRowCount()-1;}else{M=this._getTotalRowCount()-this._getRowCounts().count;}return Math.max(0,M);};t.prototype._getMaxFirstRenderedRowIndex=function(){var M;if(T.isVariableRowHeightEnabled(this)){M=this._getTotalRowCount()-this._getRowCounts().count-1;}else{M=this._getTotalRowCount()-this._getRowCounts().count;}return Math.max(0,M);};t.prototype._getFirstRenderedRowIndex=function(){var i=this.getFirstVisibleRow();if(T.isVariableRowHeightEnabled(this)&&i>this._getMaxFirstRenderedRowIndex()){return this._getMaxFirstRenderedRowIndex();}else{return i;}};t.prototype._getVisibleColumns=function(){var v=[];var w=this.getColumns();for(var i=0,l=w.length;i<l;i++){if(w[i].shouldRender()){v.push(w[i]);}}return v;};t.prototype._getColumnsWidth=function(v,w){var x=this.getColumns();var y=0;if(v!==0&&!v){v=0;}if(w!==0&&!w){w=x.length;}for(var i=v,l=w;i<l;i++){if(x[i]&&x[i].shouldRender()){var z=T.convertCSSSizeToPixel(x[i].getWidth());if(z==null){z=T.Column.getMinColumnWidth();}y+=z;}}return y;};t.prototype._onTableResize=function(i){var O=i.oldSize.width;var l=i.size.width;if(this._bInvalid||!this.getDomRef()||O===l){return;}this._updateTableSizes(T.RowsUpdateReason.Resize);};t.prototype._onWindowResize=function(){if(this._bInvalid||!this.getDomRef()){return;}if(D.browser.chrome&&window.devicePixelRatio!==this._nDevicePixelRatio){this._nDevicePixelRatio=window.devicePixelRatio;this._updateTableSizes(T.RowsUpdateReason.Zoom);this._adjustOutlineOffset();}};t.prototype._adjustOutlineOffset=function(){if(window.devicePixelRatio<1){this.addStyleClass("sapUiTableZoomout");}else{this.removeStyleClass("sapUiTableZoomout");}};t.prototype._disableTextSelection=function(i){q(i||document.body).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).bind("selectstart",function(l){l.preventDefault();return false;});};t.prototype._enableTextSelection=function(i){q(i||document.body).attr("unselectable","off").css({"-moz-user-select":"","-webkit-user-select":"","user-select":""}).unbind("selectstart");};t.prototype._clearTextSelection=function(){if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty();}else if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges();}}else if(document.selection&&document.selection.empty){try{document.selection.empty();}catch(i){}}};t.prototype._findAndfireCellEvent=function(i,l,v){var $=q(l.target);var w=$.closest(".sapUiTableDataCell");var x=w.attr("id");var M=/.*-row(\d*)-col(\d*)/i.exec(x);var y=false;if(M){var z=M[1];var H=M[2];var J=this.getRows()[z];var K=J&&J.getCells()[H];var O=J&&J.getIndex();var Q=b.ofCell(K).getId();var U;if(this.getBindingInfo("rows")){U=J.getBindingContext(this.getBindingInfo("rows").model);}var W={rowIndex:O,columnIndex:H,columnId:Q,cellControl:K,rowBindingContext:U,cellDomRef:w.get(0)};y=!i.call(this,W);if(!y&&typeof v==="function"){W.cellDomRef=w[0];y=v.call(this,W);}}return y;};t.prototype.getFocusDomRef=function(){this._getKeyboardExtension().initItemNavigation();var i=T.getFocusedItemInfo(this);if(i){return i.domRef||C.prototype.getFocusDomRef.apply(this,arguments);}return null;};t.prototype._isRowSelectable=function(i){return this._oSelectionPlugin.isIndexSelectable(i);};t.prototype.pushSortedColumn=function(i,l){if(!l){this._aSortedColumns=[];}this._aSortedColumns.push(i);};t.prototype.getSortedColumns=function(){return this._aSortedColumns.slice();};t.prototype.sort=function(l,v,w){if(!l){for(var i=0;i<this._aSortedColumns.length;i++){this._aSortedColumns[i].setSorted(false);}var x=this.getBinding("rows");if(x){x.sort();}this._aSortedColumns=[];}if(this.getColumns().indexOf(l)>=0){l.sort(v===s.Descending,w);}};t.prototype.filter=function(i,v){if(this.getColumns().indexOf(i)>=0){i.filter(v);}};t.prototype._updateSelection=function(){var l=this.getSelectionMode();if(l===p.None){return;}var v=this._getAccExtension().getAriaTextsForSelectionMode(true);var w=this.getRows();for(var i=0;i<w.length;i++){var x=w[i];x._updateSelection(this,v);}if(T.hasSelectAll(this)){var $=this.$("selall");var y=T.areAllRowsSelected(this);$.toggleClass("sapUiTableSelAll",!y);this._getAccExtension().setSelectAllState(y);var z=this._oSelectionPlugin.getRenderConfig();var H;if(z.headerSelector.type==="toggle"){H=y?"TBL_DESELECT_ALL":"TBL_SELECT_ALL";}else if(z.headerSelector.type==="clear"){H="TBL_DESELECT_ALL";}var J=T.getResourceText(H);if(this._getShowStandardTooltips()&&z.headerSelector.visible){$.attr('title',J);}else if(z.headerSelector.type==="toggle"){this.getDomRef("ariaselectall").innerText=J;}}};t.prototype._getShowStandardTooltips=function(){return!this._bHideStandardTooltips;};t.prototype._onSelectionChanged=function(i){var l=i.getParameter("rowIndices");var v=i.getParameter("selectAll");var w=this._iSourceRowIndex!==undefined?this._iSourceRowIndex:this.getSelectedIndex();var x=i.getParameter("limitReached");if(x){this.setFirstVisibleRow(Math.max(0,this.getSelectedIndex()-this._getRowCounts().count+1));}this._updateSelection();if(this._oSelectionPlugin.isA("sap.ui.table.plugins.SelectionModelPlugin")||this._oSelectionPlugin.isA("sap.ui.table.plugins.BindingSelectionPlugin")){this.setProperty("selectedIndex",w,true);this.fireRowSelectionChange({rowIndex:w,rowContext:this.getContextByIndex(w),rowIndices:l,selectAll:v,userInteraction:this._iSourceRowIndex!==undefined});}};t.prototype.getContextByIndex=function(i){var l=this.getBinding("rows");return i>=0&&l?l.getContexts(i,1)[0]:null;};t.prototype.getSelectedIndex=function(){return this._oSelectionPlugin.getSelectedIndex();};t.prototype.setSelectedIndex=function(i){this._oSelectionPlugin.setSelectedIndex(i);return this;};t.prototype.clearSelection=function(){this._oSelectionPlugin.clearSelection();return this;};t.prototype.selectAll=function(){if(T.hasSelectAll(this)){this._oSelectionPlugin.selectAll();}return this;};t.prototype.getSelectedIndices=function(){return this._oSelectionPlugin.getSelectedIndices();};t.prototype.addSelectionInterval=function(i,l){this._oSelectionPlugin.addSelectionInterval(i,l);return this;};t.prototype.setSelectionInterval=function(i,l){this._oSelectionPlugin.setSelectionInterval(i,l);return this;};t.prototype.removeSelectionInterval=function(i,l){this._oSelectionPlugin.removeSelectionInterval(i,l);return this;};t.prototype.isIndexSelected=function(i){return this._oSelectionPlugin.isIndexSelected(i);};t.prototype.setGroupBy=function(v){var i=v;var O=sap.ui.getCore().byId(this.getGroupBy());if(typeof i==="string"){i=sap.ui.getCore().byId(i);}var l=false;if(i instanceof b&&i!==O){if(this.getColumns().indexOf(i)===-1){throw new Error("Column has to be part of the columns aggregation!");}var w=this.fireGroup({column:i,groupedColumns:[i.getId()],type:G.group});if(O){O.setGrouped(false);l=true;}if(w&&this.getEnableGrouping()){i.setGrouped(true);}}if(!i||l){if(O){O.setGrouped(false);}T.Grouping.resetExperimentalGrouping(this);}return this.setAssociation("groupBy",i);};t.prototype.getBinding=function(i){T.Grouping.setupExperimentalGrouping(this);return E.prototype.getBinding.call(this,[i||"rows"]);};t.prototype.setEnableGrouping=function(i){var l=sap.ui.getCore().byId(this.getGroupBy());this.setProperty("enableGrouping",i);if(l){l.setGrouped(i);}T.Grouping.resetExperimentalGrouping(this);this._invalidateColumnMenus();return this;};t.prototype.setEnableCustomFilter=function(i){this.setProperty("enableCustomFilter",i);this._invalidateColumnMenus();return this;};t.prototype.setEnableColumnFreeze=function(i){this.setProperty("enableColumnFreeze",i);this._invalidateColumnMenus();return this;};t.prototype.setShowColumnVisibilityMenu=function(i){this.setProperty("showColumnVisibilityMenu",i);this._invalidateColumnMenus();return this;};t.prototype.getComputedFixedColumnCount=function(){if(this._bIgnoreFixedColumnCount){return 0;}return this.getFixedColumnCount();};t.prototype.setFixedColumnCount=function(l,v){var w=this.getColumns();var x,i;for(i=l-1;i>=0;i--){x=w[i];if(x&&x.getVisible()){l=Math.max(l,x.getIndex()+T.Column.getHeaderSpan(x));break;}}var $=this.$().find(".sapUiTableCtrlFirstCol > th");for(i=l-1;i>=0;i--){x=w[i];if(x&&T.isVariableWidth(x.getWidth())){x._iFixWidth=$.filter("[data-sap-ui-headcolindex='"+x.getIndex()+"']").width();}}this.setProperty("fixedColumnCount",l,v);this._collectTableSizes();if(this.getEnableColumnFreeze()){this._invalidateColumnMenus();}return this;};t.prototype.setFixedRowCount=function(i){if(!(parseInt(i)>=0)){L.error("Number of fixed rows must be greater or equal 0",this);return this;}if((i+this.getFixedBottomRowCount())>=this.getVisibleRowCount()){L.error("Table '"+this.getId()+"' fixed rows('"+(i+this.getFixedBottomRowCount())+"') must be smaller than"+" numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this);return this;}if(this.getRowMode()){L.warning("If the \"rowMode\" aggregation is set, setting the \"fixedRowCount\" has no effect");return this.setProperty("fixedRowCount",i,true);}return this.setProperty("fixedRowCount",i);};t.prototype.setFixedBottomRowCount=function(i){if(!(parseInt(i)>=0)){L.error("Number of fixed bottom rows must be greater or equal 0",this);return this;}if((i+this.getFixedRowCount())>=this.getVisibleRowCount()){L.error("Table '"+this.getId()+"' fixed rows('"+(i+this.getFixedRowCount())+"') must be smaller than"+" numberOfVisibleRows('"+this.getVisibleRowCount()+"')",this);return this;}if(this.getRowMode()){L.warning("If the \"rowMode\" aggregation is set, setting the \"iFixedBottomRowCount\" has no effect");return this.setProperty("fixedBottomRowCount",i,true);}return this.setProperty("fixedBottomRowCount",i);};t.prototype.setThreshold=function(i){this.setProperty("threshold",i,true);return this;};t.prototype._invalidateColumnMenus=function(){var v=this.getColumns();for(var i=0,l=v.length;i<l;i++){v[i].invalidateMenu();}};t.prototype._isTouchEvent=function(i){return!!(i&&i.originalEvent&&i.originalEvent.touches);};t.prototype._getRowClone=function(v){var w=this._aRowClones[v];if(w&&!w.bIsDestroyed){return w;}w=new R(this.getId()+"-rows"+"-row"+v);this._aRowClones[v]=w;var x=this.getColumns();for(var i=0,l=x.length;i<l;i++){if(x[i].getVisible()){var y=x[i].getTemplateClone(i);if(y){w.addCell(y);}}}if(T.hasRowActions(this)){var z=this.getRowActionTemplate().clone();z._setFixedLayout(true);z._setCount(this.getRowActionCount());z._setIconLabel(this.getId()+"-rowacthdr");w.setAggregation("_rowAction",z,true);}var H=this.getRowSettingsTemplate();if(H){var J=H.clone();w.setAggregation("_settings",J,true);}return w;};t.prototype.invalidateRowsAggregation=function(){this._bRowAggregationInvalid=true;};t.prototype._getBaseRowHeight=function(){var i=this._getRowMode().getBaseRowContentHeight();if(i>0){return i+T.RowHorizontalFrameSize;}else{return this._getDefaultRowHeight();}};t.prototype._getDefaultRowHeight=function(){var i=T.getContentDensity(this);return T.DefaultRowHeight[i];};t.prototype._getDefaultRowContentHeight=function(){var i=T.getContentDensity(this);return T.BaseSize[i];};t.prototype.setShowNoData=function(i){this.setProperty('showNoData',i,true);this._updateNoData();return this;};t.prototype.setNoData=function(v){var O=T.getNoDataText(this);this.setAggregation("noData",v,true);var i=T.getNoDataText(this);if(O!=null&&i!=null){if(O!==i){this.$("noDataMsg").text(i);}}else{this.invalidate();}return this;};t.prototype.exportData=function(v){var w=sap.ui.requireSync("sap/ui/core/util/Export");v=v||{};if(!v.rows){var x=this.getBinding("rows"),y=this.getBindingInfo("rows");var z=x.aFilters.concat(x.aApplicationFilters);v.rows={path:y.path,model:y.model,sorter:x.aSorters,filters:z,parameters:y.parameters};}if(!v.exportType){var H=sap.ui.requireSync("sap/ui/core/util/ExportTypeCSV");v.exportType=new H();}var M=v.rows.model;if(!M){var J=v.rows.path;var K=J.indexOf(">");if(K>0){M=J.substr(0,K);}}if(!v.columns){v.columns=[];var O=this.getColumns();for(var i=0,l=O.length;i<l;i++){var Q=O[i];if(Q.getSortProperty()){v.columns.push({name:Q.getLabel().getText(),template:{content:{path:Q.getSortProperty(),model:M}}});}}}var U=new w(v);this.addDependent(U);return U;};t.prototype._onPersoApplied=function(){var v=this.getColumns();var w=[];for(var i=0,l=v.length;i<l;i++){var x=v[i];if(x.getSorted()){w.push(new S(x.getSortProperty(),x.getSortOrder()===s.Descending));}}var y=this.getBinding("rows");if(y){if(w.length>0){y.sort(w);}this.refreshRows();}};t.prototype._toggleSelectAll=function(){if(!T.hasData(this)||this.getSelectionMode()!==p.MultiToggle){return;}if(T.areAllRowsSelected(this)){this._iSourceRowIndex=-1;this.clearSelection();}else{this._iSourceRowIndex=0;this.selectAll();}this._iSourceRowIndex=undefined;};t.prototype.setBusy=function(i,l){var v=this.getBusy()!=i;l="sapUiTableGridCnt";var w=C.prototype.setBusy.call(this,i,l);if(v){this.fireBusyStateChanged({busy:i});}return w;};t.prototype.setEnableBusyIndicator=function(v){this.setProperty("enableBusyIndicator",v,true);if(!v){this.setBusy(false);}return this;};t.prototype._onBindingDataRequested=function(i){if(i.getSource()!=this.getBinding("rows")||i.getParameter("__simulateAsyncAnalyticalBinding")){return;}this._iPendingRequests++;this._bPendingRequest=true;var l=T.canUsePendingRequestsCounter(this);if(this.getEnableBusyIndicator()&&(l&&this._iPendingRequests===1||!l)){this.setBusy(true);}if(this._dataReceivedHandlerId!=null){clearTimeout(this._dataReceivedHandlerId);delete this._dataReceivedHandlerId;}};t.prototype._onBindingDataReceived=function(i){if(i.getSource()!=this.getBinding("rows")||i.getParameter("__simulateAsyncAnalyticalBinding")){return;}this._iPendingRequests--;this._bPendingRequest=false;this._adjustToTotalRowCount();if(!T.hasPendingRequests(this)){this._dataReceivedHandlerId=setTimeout(function(){if(this.getEnableBusyIndicator()){this.setBusy(false);}this._updateNoData();delete this._dataReceivedHandlerId;}.bind(this),0);}};t.prototype._setLargeDataScrolling=function(l){this._bLargeDataScrolling=!!l;};t.prototype._getSelectedIndicesCount=function(){return this._oSelectionPlugin.getSelectedCount();};t.prototype._updateTableContent=function(){T.Grouping.updateGroups(this);};t.prototype.setRowActionTemplate=function(i){this.setAggregation("rowActionTemplate",i);i=this.getRowActionTemplate();if(i){i._setCount(this.getRowActionCount());}this.invalidateRowsAggregation();return this;};t.prototype.setRowActionCount=function(l){this.setProperty("rowActionCount",l);l=this.getRowActionCount();var v=this.getRowActionTemplate();if(v){v._setCount(l);}for(var i=0;i<this._aRowClones.length;i++){v=this._aRowClones[i].getRowAction();if(v){v._setCount(l);}}return this;};t.prototype.setRowSettingsTemplate=function(i){this.setAggregation("rowSettingsTemplate",i);this.invalidateRowsAggregation();return this;};t.prototype.addPlugin=function(i){this.addAggregation("plugins",i);this._initSelectionPlugin();return this;};t.prototype.insertPlugin=function(i,l){this.insertAggregation("plugins",i,l);this._initSelectionPlugin();return this;};t.prototype.removePlugin=function(i){var v=this.removeAggregation("plugins",i);this._initSelectionPlugin();return v;};t.prototype.removeAllPlugins=function(){var v=this.removeAllAggregation("plugins");this._initSelectionPlugin();return v;};t.prototype.getPlugin=function(l){if(typeof l!=="string"){return null;}var v=this.getPlugins();for(var i=0;i<v.length;i++){if(v[i].isA(l)){return v[i];}}return null;};t.prototype.destroyPlugins=function(){var i=this.destroyAggregation('plugins');this._initSelectionPlugin();return i;};t.prototype.getCellControl=function(i,l,v){var w=T.getRowColCell(this,i,l,!v);return w.cell;};t.prototype._fireRowsUpdated=function(i){if(i==null){i=T.RowsUpdateReason.Unknown;}var l={reason:i};this.onRowsUpdated(l);clearTimeout(this._mTimeouts.fireRowsUpdated);this._mTimeouts.fireRowsUpdated=setTimeout(function(){this.fireEvent("_rowsUpdated",l);}.bind(this),0);};t.prototype.onRowsUpdated=function(i){if(this.getRows().length>0){this._updateTableContent();this._updateSelection();this._getAccExtension().updateAccForCurrentCell(i.reason);this._resetRowHeights();this._aRowHeights=this._collectRowHeights(false);this._updateRowHeights(this._aRowHeights,false);}this._iRenderedFirstVisibleRow=this._getFirstRenderedRowIndex();this._getScrollExtension().updateVerticalScrollbarVisibility();};t.prototype._enableSynchronization=function(){var i=this;return new Promise(function(l,v){sap.ui.require(["sap/ui/table/TableSyncExtension"],function(w){l(d.enrich(i,w).getInterface());},function(w){v(w);});});};t.prototype._enableLegacyMultiSelection=function(){this._legacyMultiSelection=function(i,l){var v=!!(l.metaKey||l.ctrlKey);if(!this.isIndexSelected(i)){if(v){this.addSelectionInterval(i,i);}else{this.setSelectedIndex(i);}}else if(v||this._getSelectedIndicesCount()===1){this.removeSelectionInterval(i,i);}else{this.setSelectedIndex(i);}}.bind(this);};return t;});
