<core:FragmentDefinition xmlns="sap.suite.ui.microchart" 
	xmlns:core="sap.ui.core" 
	xmlns:m="sap.m" 
	xmlns:oDataV4MicroChart="sap.fe.macros.microchart"
	xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" template:require="{
		MODEL: 'sap/ui/model/odata/v4/AnnotationHelper',
		MICROCHART: 'sap/fe/macros/microchart/MicroChartHelper',
		ID: 'sap/fe/macros/StableIdHelper'
	}">
	<template:with path="chartAnnotation>Measures/0" helper="MICROCHART.getMeasureAttributeForMeasure" var="MeasureAttribute">
		<template:with path="MeasureAttribute>DataPoint/$AnnotationPath/" var="DataPoint">
			<template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="Measure">
				<oDataV4MicroChart:MicroChartContainer
					id="{= ${this>id} ? ID.generate([${this>id}, 'mCC']) : undefined }"
					renderLabels="{= ${this>renderLabels} !== 'false' ? true : false }"
					uomPath="{= ${this>renderLabels} === 'false' ? undefined : ((${Measure>@Org.OData.Measures.V1.ISOCurrency} || ${Measure>@Org.OData.Measures.V1.Unit}) ? (${Measure>@Org.OData.Measures.V1.ISOCurrency/$Path} || ${Measure>@Org.OData.Measures.V1.Unit/$Path}) : undefined) }"
					measures="{= MICROCHART.getMeasureOrDimensionPropertyPaths(${chartAnnotation>Measures})}"
					dimensions="{= MICROCHART.getMeasureOrDimensionPropertyPaths(${chartAnnotation>Dimensions})}"
					dataPointQualifiers="{= MICROCHART.getDataPointQualifiersForMeasures(${chartAnnotation>})}"
					binding="{= ${this>groupId} ? ('{path:\'\', parameters : { $$groupId: \'' + ${this>groupId} + '\'} }') : undefined }">
					<LineMicroChart showThresholdLine="false">
						<lines>
							<template:repeat list="{chartAnnotation>Measures}" var="Measure">
								<template:with path="Measure>" helper="MICROCHART.getMeasureAttributeForMeasure" var="MeasureAttribute">
									<template:with path="MeasureAttribute>DataPoint/$AnnotationPath/" var="DataPoint">
										<template:with path="Measure>" helper="MICROCHART.getDimension" var="Dimension">
											<template:if test="{= ${DataPoint>Value} &amp;&amp; ${Dimension>$PropertyPath} }">
												<template:then>
													<template:with path="DataPoint>Value/$Path" helper="MODEL.resolve$Path" var="DataPointMeasure">
														<LineMicroChartLine points="{= '{path:\'' + (${collection>$kind} === 'EntitySet' ? '/' : '') + ${collection>@sapui.name} + '\', parameters : { $select : \'' + MICROCHART.getSelectParameters('','',((${DataPointMeasure>@Org.OData.Measures.V1.ISOCurrency} || ${DataPointMeasure>@Org.OData.Measures.V1.Unit}) ? (${DataPointMeasure>@Org.OData.Measures.V1.ISOCurrency/$Path} || ${DataPointMeasure>@Org.OData.Measures.V1.Unit/$Path}) : '')) + '\'} }' }">
															<points>
																<LineMicroChartPoint x="{Dimension>@@.MODEL.value}" y="{DataPoint>Value@@.MODEL.value}"/>
															</points>
														</LineMicroChartLine>
													</template:with>
												</template:then>
												<template:elseif test="{= MICROCHART.logWarning('Line', { DataPoint_Value : ${DataPoint>Value}, Dimension : ${Dimension>$PropertyPath} }) }">
												</template:elseif>
											</template:if>
										</template:with>
									</template:with>
								</template:with>
							</template:repeat>
						</lines>
					</LineMicroChart>
				</oDataV4MicroChart:MicroChartContainer>
			</template:with>
		</template:with>
	</template:with>

</core:FragmentDefinition>
